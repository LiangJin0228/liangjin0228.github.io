import{_ as Xe,o as m,i as U,P as Yt,Q as Xt,k as $e,p as H,R as se,U as pt,m as Be,g as J,B as de,V as _e,d as A,W as yt,J as De,L as bt,t as W,a as n,s as q,n as oe,X as Qe,C as M,Y as Ue,Z as Vt,F as R,$ as Je,a0 as Fe,a1 as ze,M as Ie,a2 as we,c as w,w as f,h as L,l as $,z as B,j as Q,q as Ze,x as Qt,y as Jt,S as Zt,a3 as st,K as el,A as tl,a4 as ll,N as Te,D as ue,O as Ge,b as et,a5 as ut,a6 as kt,a7 as al,a8 as nl,a9 as il,aa as dt,I as He,ab as Le,ac as rl,ad as ol,H as wt,v as Ct,e as xe,ae as sl,af as ul,ag as dl,r as ct}from"./index-1d2db783.js";import{f as cl,a as ve,c as Ve,V as fe,g as je,d as fl}from"./VCard-7cedf590.js";import{a as he,v as St,h as le,R as Pt,i as ce,w as Tt,x as ml,u as vl,j as Ce,V as z,n as At,q as Ot,d as tt,y as lt,m as hl,b as gl,c as _t,z as pl,A as yl,e as bl,B as It,f as Vl,g as xt,C as kl,D as wl,E as Ft,l as be,F as Cl,o as Sl,p as Pl,s as Tl,G as Al}from"./VImg-fb614492.js";import{c as Nt,m as $t,u as Ol,d as Re,V as Se,b as _l,e as Il,f as xl,a as Ke}from"./VTextarea-4fa6f378.js";import{V as Pe,a as ye}from"./VRow-9c5b880f.js";import{a as Fl,c as Nl,V as $l,d as Rl}from"./ssrBoot-4983dca1.js";import{a as El,V as ql}from"./VAppBar-d62a4bcb.js";import{m as Rt,a as Et,b as ft,V as Ae,f as at,g as Bl}from"./forwardRefs-ca977b54.js";import{m as Dl,u as Ll,V as Ml,a as mt}from"./VList-6837065e.js";import{a as qt}from"./scopeId-b952f69d.js";import{m as Bt,b as Dt,u as Ee,c as Ul,d as zl,V as Gl}from"./VBtn-170e1722.js";import{V as vt,a as Hl}from"./index-80865490.js";const jl=cl("v-spacer","div","VSpacer"),Kl={title:"109學年度師資培育教師調查問卷",description:"敬愛的教育先進您好：教育部為了解師資培育教師的工作現況和意見，特委託國立臺灣師範大學進行「師資培育教師調查」，期望借重您的專業與經驗，並蒐集您對師資培育相關制度或政策規劃與實施的建議與意見，作為師資培育大學辦學回饋，以及政府師資培育政策精進之參考。距離上次師資培育教師調查已經有十年了，過去十年師資培育發展如何？未來又應該注意甚麼？我們深知您十分忙碌，但您20分鐘左右的投入，可以提供各師資培育大學及教育部寶貴的建議，以讓師資培育有更好的發展。懇請您務必撥冗親自填答，切勿由他人代答。若您完整參與本調查，本單位將於調查結束後，提供一份分析摘要給您。本調查屬「第三方調查」，由調查單位負責資料蒐集、處理與分析。調查所蒐集之資料將只做整體分析之用，除非經過您同意，教育部、您的服務學校、以及其他資料使用者將無從知悉或辨識您個人的填答內容，敬請放心填答。資料釋出亦將遵守相關法令規定與倫理規範，確保您個人的資訊安全及隱私權益。若您有任何問題或建議，也請與我們聯絡（E-mail：tes@ntnu.edu.tw；電話：070-1018-8372#14）。非常感謝您的協助，讓我們共同努力，精進師資培育，使臺灣教育環境更優質！主辦單位：教育部師資培育及藝術教育司。執行單位：國立臺灣師範大學教育學系暨教育政策與行政研究所",pages:[[1,2,3,4,5,6]],nodes:[{id:1,form_id:1,parent_id:1,parent_type:"App\\Models\\Form",type_id:1,order_number:1,title:"您曾經擔任師資培育單位哪些行政工作？（可複選，請勾選所有符合者）",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",image:"https://i.kym-cdn.com/entries/icons/original/000/046/895/huh_cat.jpg",configs:[],nodes_order:[],rules:{is_required:!0,mutually_exclusive:[{select:[4],clear:[1,2,3]}]},options:[{id:1,title:"師資培育中心/處/學院主管（正副主任/處長/院長）",value:1},{id:2,title:"師資培育中心/處/學院組長",value:2},{id:3,title:"師資培育系所主任/所長",value:3},{id:4,title:"以上皆無",value:4}]},{id:2,form_id:1,parent_id:1,parent_type:"App\\Models\\Form",type_id:2,order_number:2,title:"您是否有下列行政工作經驗？",configs:{scales:[{id:1,title:"無",value:1},{id:2,title:"有",value:2}]},rules:{is_required:!0},options:[{id:1,title:"中央教育行政工作",value:1},{id:2,title:"縣市/地方教育行政工作",value:2},{id:3,title:"幼兒園、中小學學校行政工作（含兼任）",value:3}]},{id:21,form_id:1,parent_id:1,parent_type:"App\\Models\\Form",type_id:2,order_number:2,title:"請問您的相關工作年資？（年資半年以上以一年計，專任、專案與兼任皆計）",configs:{scales:[{id:1,title:"都沒有",value:1},{id:2,title:"3年（含）以內",value:2},{id:3,title:"4-10年",value:3},{id:4,title:"11-20年",value:4},{id:5,title:"21年（含）以上",value:5}]},rules:{is_required:!0},options:[{id:1,title:"大專校院任教經驗",value:1},{id:2,title:"師資培育專業課程任教經驗",value:2}]},{id:22,form_id:1,parent_id:1,parent_type:"App\\Models\\Form",type_id:2,order_number:2,title:"下列期間，您每週任教師資培育專業課程（不含非師培課程）的教學時數為何？",configs:{scales:[{id:1,title:"0小時",value:1},{id:2,title:"1-2小時",value:2},{id:3,title:"3-4小時",value:3},{id:4,title:"5-6小時",value:4},{id:5,title:"7-8小時",value:5},{id:6,title:"9-10小時",value:6},{id:7,title:"11-12小時",value:7},{id:8,title:"13小時（含）以上",value:8}]},rules:{is_required:!0},options:[{id:1,title:"108學年度暑期",value:1},{id:2,title:"109學年度上學期",value:2},{id:3,title:"109學年度下學期",value:3}]},{id:22,form_id:1,parent_id:1,parent_type:"App\\Models\\Form",type_id:2,order_number:2,title:"根據您開課屬性，教授師資培育專業課程時，您覺得自己應用下列教學策略的「成效」為何？",configs:{scales:[{id:1,title:"未曾使用",value:1},{id:2,title:"非常不理想",value:2},{id:3,title:"不理想",value:3},{id:4,title:"理想",value:4},{id:5,title:"非常理想",value:5}]},rules:{is_required:!0},options:[{id:1,title:"講述法",value:1},{id:2,title:"引導學生探究實作與問題解決",value:2},{id:3,title:"引導學生自主學習",value:3},{id:4,title:"將課程與實務或應用結合",value:4},{id:5,title:"實施跨領域主題/專題/議題課程統整與教學",value:5},{id:6,title:"運用資訊科技與數位教材進行教學（學習平台）",value:6},{id:7,title:"進行分組合作學習",value:7},{id:8,title:"進行實例研討與分析",value:8},{id:9,title:"實地參訪、見習、試教",value:9},{id:10,title:"運用多元評量",value:10},{id:11,title:"將教師資格考試或教師甄試考題融入教學",value:11}]},{id:3,form_id:1,parent_id:1,parent_type:"App\\Models\\Form",type_id:3,order_number:3,title:"請問您對服務師資培育單位（中心、處、系所、學院）有何意見與建議？",configs:{},rules:{is_required:!0},options:[]},{id:4,form_id:1,parent_id:1,parent_type:"App\\Models\\Form",type_id:4,order_number:4,title:"過去三年（107-109）您協助中央、地方（縣市或學校）的「教育輔導團」或幼兒園、中小學「教師增能研習或專業發展」的情況為何(含主辦、協助推動、擔任講師等)？",configs:{},rules:{is_required:!0},options:[{id:1,title:"完全沒有",value:1},{id:2,title:"投入不多",value:2},{id:3,title:"有些投入",value:3},{id:4,title:"非常投入",value:4}]},{id:5,form_id:1,parent_id:1,parent_type:"App\\Models\\Form",type_id:5,order_number:5,title:"您每週實際授課多少節？",configs:{},rules:{is_required:!0},options:[{id:1,title:"1",value:1},{id:2,title:"2",value:2},{id:3,title:"3",value:3},{id:4,title:"4",value:4},{id:5,title:"5(含)以上",value:5}]},{id:6,form_id:1,parent_id:1,parent_type:"App\\Models\\Form",type_id:6,order_number:6,title:"請說明___________，20字以內",configs:{},rules:{is_required:!0},options:[]}]},Wl={form:Kl};const Yl={},Lt=e=>(Yt("data-v-ad7fd71b"),e=e(),Xt(),e),Xl={class:"spinner-box"},Ql=Lt(()=>$e("div",{class:"configure-border-1"},[$e("div",{class:"configure-core"})],-1)),Jl=Lt(()=>$e("div",{class:"configure-border-2"},[$e("div",{class:"configure-core"})],-1)),Zl=[Ql,Jl];function ea(e,t){return m(),U("div",Xl,Zl)}const ta=Xe(Yl,[["render",ea],["__scopeId","data-v-ad7fd71b"]]);const Mt=Symbol.for("vuetify:selection-control-group"),nt=H({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:se,trueIcon:se,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:pt},...he(),...St(),...Be()},"SelectionControlGroup"),la=H({...nt({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),aa=J()({name:"VSelectionControlGroup",props:la(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:l}=t;const a=de(e,"modelValue"),i=_e(),u=A(()=>e.id||`v-selection-control-group-${i}`),s=A(()=>e.name||u.value),o=new Set;return yt(Mt,{modelValue:a,forceUpdate:()=>{o.forEach(r=>r())},onForceUpdate:r=>{o.add(r),De(()=>{o.delete(r)})}}),bt({[e.defaultsTarget]:{color:W(e,"color"),disabled:W(e,"disabled"),density:W(e,"density"),error:W(e,"error"),inline:W(e,"inline"),modelValue:a,multiple:A(()=>!!e.multiple||e.multiple==null&&Array.isArray(a.value)),name:s,falseIcon:W(e,"falseIcon"),trueIcon:W(e,"trueIcon"),readonly:W(e,"readonly"),ripple:W(e,"ripple"),type:W(e,"type"),valueComparator:W(e,"valueComparator")}}),le(()=>{var r;return n("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(r=l.default)==null?void 0:r.call(l)])}),{}}}),it=H({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...he(),...nt()},"VSelectionControl");function na(e){const t=Je(Mt,void 0),{densityClasses:l}=Tt(e),a=de(e,"modelValue"),i=A(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),u=A(()=>e.falseValue!==void 0?e.falseValue:!1),s=A(()=>!!e.multiple||e.multiple==null&&Array.isArray(a.value)),o=A({get(){const T=t?t.modelValue.value:a.value;return s.value?Fe(T).some(b=>e.valueComparator(b,i.value)):e.valueComparator(T,i.value)},set(T){if(e.readonly)return;const b=T?i.value:u.value;let v=b;s.value&&(v=T?[...Fe(a.value),b]:Fe(a.value).filter(d=>!e.valueComparator(d,i.value))),t?t.modelValue.value=v:a.value=v}}),{textColorClasses:r,textColorStyles:V}=ml(A(()=>{if(!(e.error||e.disabled))return o.value?e.color:e.baseColor})),{backgroundColorClasses:_,backgroundColorStyles:C}=vl(A(()=>o.value&&!e.error&&!e.disabled?e.color:e.baseColor)),g=A(()=>o.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:l,trueValue:i,falseValue:u,model:o,textColorClasses:r,textColorStyles:V,backgroundColorClasses:_,backgroundColorStyles:C,icon:g}}const qe=J()({name:"VSelectionControl",directives:{Ripple:Pt},inheritAttrs:!1,props:it(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:l,slots:a}=t;const{group:i,densityClasses:u,icon:s,model:o,textColorClasses:r,textColorStyles:V,backgroundColorClasses:_,backgroundColorStyles:C,trueValue:g}=na(e),T=_e(),b=q(!1),v=q(!1),d=oe(),k=A(()=>e.id||`input-${T}`),O=A(()=>!e.disabled&&!e.readonly);i==null||i.onForceUpdate(()=>{d.value&&(d.value.checked=o.value)});function F(P){O.value&&(b.value=!0,ze(P.target,":focus-visible")!==!1&&(v.value=!0))}function N(){b.value=!1,v.value=!1}function Y(P){P.stopPropagation()}function re(P){O.value&&(e.readonly&&i&&Ie(()=>i.forceUpdate()),o.value=P.target.checked)}return le(()=>{var G,j;const P=a.label?a.label({label:e.label,props:{for:k.value}}):e.label,[K,Z]=Qe(l),x=n("input",M({ref:d,checked:o.value,disabled:!!e.disabled,id:k.value,onBlur:N,onFocus:F,onInput:re,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:g.value,name:e.name,"aria-checked":e.type==="checkbox"?o.value:void 0},Z),null);return n("div",M({class:["v-selection-control",{"v-selection-control--dirty":o.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":b.value,"v-selection-control--focus-visible":v.value,"v-selection-control--inline":e.inline},u.value,e.class]},K,{style:e.style}),[n("div",{class:["v-selection-control__wrapper",r.value],style:V.value},[(G=a.default)==null?void 0:G.call(a,{backgroundColorClasses:_,backgroundColorStyles:C}),Ue(n("div",{class:["v-selection-control__input"]},[((j=a.input)==null?void 0:j.call(a,{model:o,textColorClasses:r,textColorStyles:V,backgroundColorClasses:_,backgroundColorStyles:C,inputNode:x,icon:s.value,props:{onFocus:F,onBlur:N,id:k.value}}))??n(R,null,[s.value&&n(ce,{key:"icon",icon:s.value},null),x])]),[[Vt("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),P&&n(Nt,{for:k.value,onClick:Y},{default:()=>[P]})])}),{isFocused:b,input:d}}}),Ut=H({indeterminate:Boolean,indeterminateIcon:{type:se,default:"$checkboxIndeterminate"},...it({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),We=J()({name:"VCheckboxBtn",props:Ut(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:l}=t;const a=de(e,"indeterminate"),i=de(e,"modelValue");function u(r){a.value&&(a.value=!1)}const s=A(()=>a.value?e.indeterminateIcon:e.falseIcon),o=A(()=>a.value?e.indeterminateIcon:e.trueIcon);return le(()=>{const r=we(qe.filterProps(e),["modelValue"]);return n(qe,M(r,{modelValue:i.value,"onUpdate:modelValue":[V=>i.value=V,u],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:s.value,trueIcon:o.value,"aria-checked":a.value?"mixed":void 0}),l)}),{}}}),ia=H({...$t(),...we(Ut(),["inline"])},"VCheckbox"),ra=J()({name:"VCheckbox",inheritAttrs:!1,props:ia(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,t){let{attrs:l,slots:a}=t;const i=de(e,"modelValue"),{isFocused:u,focus:s,blur:o}=Ol(e),r=_e(),V=A(()=>e.id||`checkbox-${r}`);return le(()=>{const[_,C]=Qe(l),g=Re.filterProps(e),T=We.filterProps(e);return n(Re,M({class:["v-checkbox",e.class]},_,g,{modelValue:i.value,"onUpdate:modelValue":b=>i.value=b,id:V.value,focused:u.value,style:e.style}),{...a,default:b=>{let{id:v,messagesId:d,isDisabled:k,isReadonly:O,isValid:F}=b;return n(We,M(T,{id:v.value,"aria-describedby":d.value,disabled:k.value,readonly:O.value},C,{error:F.value===!1,modelValue:i.value,"onUpdate:modelValue":N=>i.value=N,onFocus:s,onBlur:o}),a)}})}),{}}}),oa={key:0,class:"text-subtitle-1"},sa={props:{validateFormTimes:{type:Number,required:!0},prependOrderNumber:{type:[String,Number],required:!1,default:null},node:{type:Object,required:!0,default:()=>({configs:{},rules:{},options:[]})}},data(){return{valid:!1,selected:[],rules:[]}},computed:{newPrependOrderNumber(){return this.prependOrderNumber&&this.prependOrderNumber!==0?`${this.prependOrderNumber}-${this.node.order_number}`:this.node.order_number}},methods:{checkAnswer(){this.$refs.form.validate(),this.$refs.form.isValid&&(this.answerChanged(),this.anserValidated())},answerChanged(e){e&&e.node.id!==this.node.id?this.$emit("answerChanged",e):this.$emit("answerChanged",{node:this.node,answer:this.selected})},anserValidated(e){e&&e.node.id!==this.node.id?this.$emit("anserValidated",e):this.$emit("anserValidated",{node:this.node,validateFormTimes:this.validateFormTimes})},mutually_exclusive(e){let t=this.selected;e.forEach(l=>{let a=l.select,i=l.clear;a.some(u=>{i.some(s=>{let o=`選項 "${u}" 和 "${s}" 不能同時選擇`;t.includes(u)&&t.includes(s)?this.rules.push(o):this.rules=this.rules.filter(r=>r!=o)})})})},is_required(e){return e.length!==0||"請選擇一個選項"}},watch:{selected(){this.mutually_exclusive(this.node.rules.mutually_exclusive),this.answerChanged()},validateFormTimes(){this.checkAnswer()}},mounted(){let e=this.node.rules;for(let t in e)t&&t!=="mutually_exclusive"&&this.rules.push(this.$options.methods[t])}},ua=Object.assign(sa,{__name:"Checkbox",setup(e){return(t,l)=>(m(),w(fe,{hover:"",variant:"text",class:"cursor-default"},{default:f(()=>[n(ve,{class:"text-wrap"},{default:f(()=>[L($(t.newPrependOrderNumber)+". "+$(e.node.title),1)]),_:1}),n(Ve,null,{default:f(()=>[e.node.image?(m(),w(Ce,{key:0,"max-height":"500",src:e.node.image,class:"ma-5"},null,8,["src"])):B("",!0),e.node.description?(m(),w(z,{key:1,fluid:""},{default:f(()=>[L($(e.node.description),1)]),_:1})):B("",!0),n(Se,{ref:"form",modelValue:t.valid,"onUpdate:modelValue":l[1]||(l[1]=a=>t.valid=a)},{default:f(()=>[(m(!0),U(R,null,Q(e.node.options,(a,i)=>(m(),w(ra,{modelValue:t.selected,"onUpdate:modelValue":l[0]||(l[0]=u=>t.selected=u),key:a.value,label:a.title,rules:t.rules,value:a.value,density:"compact"},{message:f(({message:u})=>[i==e.node.options.length-1?(m(),U("span",oa,$(u),1)):B("",!0)]),_:2},1032,["modelValue","label","rules","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e.node.nodes?(m(),w(z,{key:0,fluid:""},{default:f(()=>[(m(!0),U(R,null,Q(e.node.nodes,a=>(m(),w(ge,{key:a.id,onAnswerChanged:t.answerChanged,onAnserValidated:t.anserValidated,validateFormTimes:e.validateFormTimes,settings:t.settings,prependOrderNumber:t.newPrependOrderNumber,node:a},null,8,["onAnswerChanged","onAnserValidated","validateFormTimes","settings","prependOrderNumber","node"]))),128))]),_:1})):B("",!0)]),_:1}))}}),da=H({...it({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),Ye=J()({name:"VRadio",props:da(),setup(e,t){let{slots:l}=t;return le(()=>n(qe,M(e,{class:["v-radio",e.class],style:e.style,type:"radio"}),l)),{}}});const ca=H({height:{type:[Number,String],default:"auto"},...$t(),...we(nt(),["multiple"]),trueIcon:{type:se,default:"$radioOn"},falseIcon:{type:se,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),Ne=J()({name:"VRadioGroup",inheritAttrs:!1,props:ca(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:l,slots:a}=t;const i=_e(),u=A(()=>e.id||`radio-group-${i}`),s=de(e,"modelValue");return le(()=>{const[o,r]=Qe(l),V=Re.filterProps(e),_=qe.filterProps(e),C=a.label?a.label({label:e.label,props:{for:u.value}}):e.label;return n(Re,M({class:["v-radio-group",e.class],style:e.style},o,V,{modelValue:s.value,"onUpdate:modelValue":g=>s.value=g,id:u.value}),{...a,default:g=>{let{id:T,messagesId:b,isDisabled:v,isReadonly:d}=g;return n(R,null,[C&&n(Nt,{id:T.value},{default:()=>[C]}),n(aa,M(_,{id:T.value,"aria-describedby":b.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:v.value,readonly:d.value,"aria-labelledby":C?T.value:void 0,multiple:!1},r,{modelValue:s.value,"onUpdate:modelValue":k=>s.value=k}),a)])}})}),{}}}),fa={props:{validateFormTimes:{type:Number,required:!0},prependOrderNumber:{type:[String,Number],required:!1,default:null},node:{type:Object,required:!0,default:()=>({configs:{},rules:{},options:[]})}},data(){return{valid:!1,radios:[],rules:[]}},computed:{newPrependOrderNumber(){return this.prependOrderNumber&&this.prependOrderNumber!==0?`${this.prependOrderNumber}-${this.node.order_number}`:this.node.order_number}},methods:{checkAnswer(){this.$refs.form.validate(),this.$refs.form.isValid&&(this.answerChanged(),this.anserValidated())},answerChanged(e){e&&e.node.id!==this.node.id?this.$emit("answerChanged",e):this.$emit("answerChanged",{node:this.node,answer:this.radios})},anserValidated(e){e&&e.node.id!==this.node.id?this.$emit("anserValidated",e):this.$emit("anserValidated",{node:this.node,validateFormTimes:this.validateFormTimes})},is_required(e){return!!e||"請選擇一個選項"}},watch:{radios(){this.answerChanged()},validateFormTimes(){this.checkAnswer()}},mounted(){let e=this.node.rules;for(let t in e)t&&t!=="mutually_exclusive"&&this.rules.push(this.$options.methods[t])}},ma=Object.assign(fa,{__name:"MultipleChoiceGrid",setup(e){const{mobile:t}=Ze();return(l,a)=>(m(),w(fe,{hover:"",variant:"text",class:"cursor-default"},{default:f(()=>[n(ve,{class:"text-wrap"},{default:f(()=>[L($(l.newPrependOrderNumber)+". "+$(e.node.title),1)]),_:1}),n(Ve,null,{default:f(()=>[e.node.image?(m(),w(Ce,{key:0,"max-height":"500",src:e.node.image,class:"ma-5"},null,8,["src"])):B("",!0),e.node.description?(m(),w(z,{key:1,fluid:""},{default:f(()=>[L($(e.node.description),1)]),_:1})):B("",!0),n(Se,{ref:"form",modelValue:l.valid,"onUpdate:modelValue":a[0]||(a[0]=i=>l.valid=i)},{default:f(()=>[Qt(t)?(m(),w(z,{key:1,fluid:"",class:"border bg-green-lighten-5"},{default:f(()=>[(m(!0),U(R,null,Q(e.node.options,(i,u)=>(m(),w(Pe,null,{default:f(()=>[n(ye,{cols:"12",class:"text-subtitle-1"},{default:f(()=>[L(" ("+$(u+1)+") "+$(i.title),1)]),_:2},1024),n(ye,{cols:"12"},{default:f(()=>[n(Ne,{modelValue:l.radios[u],"onUpdate:modelValue":s=>l.radios[u]=s,rules:l.rules,inline:"","hide-details":"auto"},{default:f(()=>[(m(!0),U(R,null,Q(e.node.configs.scales,s=>(m(),w(Ye,{label:s.title,value:s.value},null,8,["label","value"]))),256))]),_:2},1032,["modelValue","onUpdate:modelValue","rules"])]),_:2},1024)]),_:2},1024))),256))]),_:1})):(m(),w(z,{key:0,fluid:"",class:"border-xl"},{default:f(()=>[n(Pe,{class:"bg-green py-1"},{default:f(()=>[n(ye,{offset:e.node.configs.scales.length>=8?5:7,lg:e.node.configs.scales.length>=8?7:5},{default:f(()=>[n(Ne,{inline:"","hide-details":"auto"},{default:f(()=>[n(Pe,{class:"flex-nowrap"},{default:f(()=>[(m(!0),U(R,null,Q(e.node.configs.scales,i=>(m(),w(ye,{class:"text-center"},{default:f(()=>[n(z,{class:"pa-0"},{default:f(()=>[L($(i.title),1)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})]),_:1},8,["offset","lg"])]),_:1}),(m(!0),U(R,null,Q(e.node.options,(i,u)=>(m(),w(Pe,{class:Jt({"bg-green-lighten-5":u%2==0})},{default:f(()=>[n(ye,{cols:"12",lg:e.node.configs.scales.length>=8?5:7,class:"text-subtitle-1"},{default:f(()=>[L(" ("+$(u+1)+") "+$(i.title),1)]),_:2},1032,["lg"]),n(ye,{cols:"12",lg:e.node.configs.scales.length>=8?7:5},{default:f(()=>[n(Ne,{inline:"",modelValue:l.radios[u],"onUpdate:modelValue":s=>l.radios[u]=s,rules:l.rules,"hide-details":"auto"},{default:f(()=>[n(Pe,{class:"flex-nowrap"},{default:f(()=>[(m(!0),U(R,null,Q(e.node.configs.scales,s=>(m(),w(ye,{class:"text-center"},{default:f(()=>[n(Ye,{value:s.value},null,8,["value"])]),_:2},1024))),256))]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue","rules"])]),_:2},1032,["lg"])]),_:2},1032,["class"]))),256))]),_:1}))]),_:1},8,["modelValue"])]),_:1}),e.node.nodes?(m(),w(z,{key:0,fluid:""},{default:f(()=>[(m(!0),U(R,null,Q(e.node.nodes,i=>(m(),w(ge,{key:i.id,onAnswerChanged:l.answerChanged,onAnserValidated:l.anserValidated,validateFormTimes:e.validateFormTimes,settings:l.settings,prependOrderNumber:l.newPrependOrderNumber,node:i},null,8,["onAnswerChanged","onAnserValidated","validateFormTimes","settings","prependOrderNumber","node"]))),128))]),_:1})):B("",!0)]),_:1}))}}),va={props:{validateFormTimes:{type:Number,required:!0},prependOrderNumber:{type:[String,Number],required:!1,default:null},node:{type:Object,required:!0,default:()=>({configs:{},rules:{},options:[]})}},data(){return{valid:!1,answer:null,rules:[]}},computed:{newPrependOrderNumber(){return this.prependOrderNumber&&this.prependOrderNumber!==0?`${this.prependOrderNumber}-${this.node.order_number}`:this.node.order_number}},methods:{checkAnswer(){this.$refs.form.validate(),this.$refs.form.isValid&&(this.answerChanged(),this.anserValidated())},answerChanged(e){e&&e.node.id!==this.node.id?this.$emit("answerChanged",e):this.$emit("answerChanged",{node:this.node,answer:this.selected})},anserValidated(e){e&&e.node.id!==this.node.id?this.$emit("anserValidated",e):this.$emit("anserValidated",{node:this.node,validateFormTimes:this.validateFormTimes})},is_required(e){return e.length!==0||"請選擇一個選項"}},watch:{validateFormTimes(){this.checkAnswer()}},mounted(){let e=this.node.rules;for(let t in e)t&&t!=="mutually_exclusive"&&this.rules.push(this.$options.methods[t])}},ha=Object.assign(va,{__name:"Paragraph",setup(e){return(t,l)=>(m(),w(fe,{hover:"",variant:"text",class:"cursor-default"},{default:f(()=>[n(ve,{class:"text-wrap"},{default:f(()=>[L($(t.newPrependOrderNumber)+". "+$(e.node.title),1)]),_:1}),n(Ve,null,{default:f(()=>[e.node.image?(m(),w(Ce,{key:0,"max-height":"500",src:e.node.image,class:"ma-5"},null,8,["src"])):B("",!0),e.node.description?(m(),w(z,{key:1,fluid:""},{default:f(()=>[L($(e.node.description),1)]),_:1})):B("",!0),n(Se,{ref:"form",modelValue:t.valid,"onUpdate:modelValue":l[1]||(l[1]=a=>t.valid=a)},{default:f(()=>[n(_l,{modelValue:t.answer,"onUpdate:modelValue":l[0]||(l[0]=a=>t.answer=a),label:"請勿輸入超過500個中文字",variant:"solo"},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1}),e.node.nodes?(m(),w(z,{key:0,fluid:""},{default:f(()=>[(m(!0),U(R,null,Q(e.node.nodes,a=>(m(),w(ge,{key:a.id,onAnswerChanged:t.answerChanged,onAnserValidated:t.anserValidated,validateFormTimes:e.validateFormTimes,settings:t.settings,prependOrderNumber:t.newPrependOrderNumber,node:a},null,8,["onAnswerChanged","onAnserValidated","validateFormTimes","settings","prependOrderNumber","node"]))),128))]),_:1})):B("",!0)]),_:1}))}}),ga={props:{validateFormTimes:{type:Number,required:!0},prependOrderNumber:{type:[String,Number],required:!1,default:null},node:{type:Object,required:!0,default:()=>({configs:{},rules:{},options:[]})}},data(){return{valid:!1,selected:null,rules:[]}},computed:{newPrependOrderNumber(){return this.prependOrderNumber&&this.prependOrderNumber!==0?`${this.prependOrderNumber}-${this.node.order_number}`:this.node.order_number}},methods:{checkAnswer(){this.$refs.form.validate(),this.$refs.form.isValid&&(this.answerChanged(),this.anserValidated())},answerChanged(e){e&&e.node.id!==this.node.id?this.$emit("answerChanged",e):this.$emit("answerChanged",{node:this.node,answer:this.selected})},anserValidated(e){e&&e.node.id!==this.node.id?this.$emit("anserValidated",e):this.$emit("anserValidated",{node:this.node,validateFormTimes:this.validateFormTimes})},mutually_exclusive(e){let t=this.selected;e.forEach(l=>{let a=l.select,i=l.clear;a.some(u=>{i.some(s=>{let o=`選項 "${u}" 和 "${s}" 不能同時選擇`;t.includes(u)&&t.includes(s)?this.rules.push(o):this.rules=this.rules.filter(r=>r!=o)})})})},is_required(e){return e.length!==0||"請選擇一個選項"}},watch:{selected(){this.mutually_exclusive(this.node.rules.mutually_exclusive),this.answerChanged()},validateFormTimes(){this.checkAnswer()}},mounted(){let e=this.node.rules;for(let t in e)t&&t!=="mutually_exclusive"&&this.rules.push(this.$options.methods[t])}},pa=Object.assign(ga,{__name:"Radio",setup(e){return(t,l)=>(m(),w(fe,{hover:"",variant:"text",class:"cursor-default"},{default:f(()=>[n(ve,{class:"text-wrap"},{default:f(()=>[L($(t.newPrependOrderNumber)+". "+$(e.node.title),1)]),_:1}),n(Ve,null,{default:f(()=>[e.node.image?(m(),w(Ce,{key:0,"max-height":"500",src:e.node.image,class:"ma-5"},null,8,["src"])):B("",!0),e.node.description?(m(),w(z,{key:1,fluid:""},{default:f(()=>[L($(e.node.description),1)]),_:1})):B("",!0),n(Se,{ref:"form",modelValue:t.valid,"onUpdate:modelValue":l[0]||(l[0]=a=>t.valid=a)},{default:f(()=>[n(Ne,null,{default:f(()=>[(m(!0),U(R,null,Q(e.node.options,a=>(m(),w(Ye,{key:a.id,label:a.title,value:a.value},null,8,["label","value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e.node.nodes?(m(),w(z,{key:0,fluid:""},{default:f(()=>[(m(!0),U(R,null,Q(e.node.nodes,a=>(m(),w(ge,{key:a.id,onAnswerChanged:t.answerChanged,onAnserValidated:t.anserValidated,validateFormTimes:e.validateFormTimes,settings:t.settings,prependOrderNumber:t.newPrependOrderNumber,node:a},null,8,["onAnswerChanged","onAnserValidated","validateFormTimes","settings","prependOrderNumber","node"]))),128))]),_:1})):B("",!0)]),_:1}))}});const ya=H({...he(),...At(),...Fl()},"VLayout"),ba=J()({name:"VLayout",props:ya(),setup(e,t){let{slots:l}=t;const{layoutClasses:a,layoutStyles:i,getLayoutItem:u,items:s,layoutRef:o}=Nl(e),{dimensionStyles:r}=Ot(e);return le(()=>n("div",{ref:o,class:[a.value,e.class],style:[r.value,i.value,e.style]},[n(Zt,null,{default:()=>{var V;return[n(R,null,[(V=l.default)==null?void 0:V.call(l)])]}})])),{getLayoutItem:u,items:s}}}),Va={key:0},ka={props:{settings:{type:Array,required:!1,default:()=>[{title:"複製",value:1,icon:"mdi-content-copy"},{title:"刪除",value:2,icon:"mdi-delete"},{title:"設定",value:3,icon:"mdi-cog"}]},prependOrderNumber:{type:[String,Number],required:!1,default:null},node:{type:Object,required:!0,default:()=>({configs:{},options:[]})}},computed:{sectionSettings(){return Array.from(this.settings)}},mounted(){this.sectionSettings.push({title:"Section",value:4,icon:"mdi-plus"})}},wa=Object.assign(ka,{__name:"Section",setup(e){return(t,l)=>e.node?(m(),w(fe,{key:0,color:"brown-lighten-5"},{default:f(()=>[n(ba,null,{default:f(()=>[t.mode==="edit"?(m(),w(El,{key:0,color:"primary",class:"elevation-0"},{default:f(()=>[st(t.$slots,"editToolbar.prepend"),n(jl),st(t.$slots,"editToolbar.append",{settings:t.sectionSettings})]),_:3})):B("",!0),n(ql,null,{default:f(()=>[n(z,{fluid:"",class:"text-h6"},{default:f(()=>[e.prependOrderNumber&&e.prependOrderNumber!==0&&e.node.title?(m(),U("span",Va,$(e.prependOrderNumber)+". "+$(e.node.title),1)):B("",!0)]),_:1}),e.node.description?(m(),w(z,{key:0,fluid:"",class:"pt-0"},{default:f(()=>[L($(e.node.description),1)]),_:1})):B("",!0),n(z,{fluid:"",class:"pt-0"},{default:f(()=>[(m(!0),U(R,null,Q(e.node.nodes,a=>(m(),w(ge,{key:a.id,settings:e.settings,prependOrderNumber:e.node.prependOrderNumber,node:a},null,8,["settings","prependOrderNumber","node"]))),128))]),_:1})]),_:1})]),_:3})]),_:3})):B("",!0)}});function Ca(e){let{selectedElement:t,containerElement:l,isRtl:a,isHorizontal:i}=e;const u=Oe(i,l),s=zt(i,a,l),o=Oe(i,t),r=Gt(i,t),V=o*.4;return s>r?r-V:s+u<r+o?r-u+o+V:s}function Sa(e){let{selectedElement:t,containerElement:l,isHorizontal:a}=e;const i=Oe(a,l),u=Gt(a,t),s=Oe(a,t);return u-i/2+s/2}function ht(e,t){const l=e?"scrollWidth":"scrollHeight";return(t==null?void 0:t[l])||0}function Pa(e,t){const l=e?"clientWidth":"clientHeight";return(t==null?void 0:t[l])||0}function zt(e,t,l){if(!l)return 0;const{scrollLeft:a,offsetWidth:i,scrollWidth:u}=l;return e?t?u-i+a:a:l.scrollTop}function Oe(e,t){const l=e?"offsetWidth":"offsetHeight";return(t==null?void 0:t[l])||0}function Gt(e,t){const l=e?"offsetLeft":"offsetTop";return(t==null?void 0:t[l])||0}const Ta=Symbol.for("vuetify:v-slide-group"),Ht=H({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:Ta},nextIcon:{type:se,default:"$next"},prevIcon:{type:se,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...he(),...el({mobile:null}),...tt(),...Bt({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),gt=J()({name:"VSlideGroup",props:Ht(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:l}=t;const{isRtl:a}=tl(),{displayClasses:i,mobile:u}=Ze(e),s=Dt(e,e.symbol),o=q(!1),r=q(0),V=q(0),_=q(0),C=A(()=>e.direction==="horizontal"),{resizeRef:g,contentRect:T}=Ee(),{resizeRef:b,contentRect:v}=Ee(),d=ll(),k=A(()=>({container:g.el,duration:200,easing:"easeOutQuart"})),O=A(()=>s.selected.value.length?s.items.value.findIndex(c=>c.id===s.selected.value[0]):-1),F=A(()=>s.selected.value.length?s.items.value.findIndex(c=>c.id===s.selected.value[s.selected.value.length-1]):-1);if(Te){let c=-1;ue(()=>[s.selected.value,T.value,v.value,C.value],()=>{cancelAnimationFrame(c),c=requestAnimationFrame(()=>{if(T.value&&v.value){const p=C.value?"width":"height";V.value=T.value[p],_.value=v.value[p],o.value=V.value+1<_.value}if(O.value>=0&&b.el){const p=b.el.children[F.value];Y(p,e.centerActive)}})})}const N=q(!1);function Y(c,p){let S=0;p?S=Sa({containerElement:g.el,isHorizontal:C.value,selectedElement:c}):S=Ca({containerElement:g.el,isHorizontal:C.value,isRtl:a.value,selectedElement:c}),re(S)}function re(c){if(!Te||!g.el)return;const p=Oe(C.value,g.el),S=zt(C.value,a.value,g.el);if(!(ht(C.value,g.el)<=p||Math.abs(c-S)<16)){if(C.value&&a.value&&g.el){const{scrollWidth:D,offsetWidth:E}=g.el;c=D-E-c}C.value?d.horizontal(c,k.value):d(c,k.value)}}function P(c){const{scrollTop:p,scrollLeft:S}=c.target;r.value=C.value?S:p}function K(c){if(N.value=!0,!(!o.value||!b.el)){for(const p of c.composedPath())for(const S of b.el.children)if(S===p){Y(S);return}}}function Z(c){N.value=!1}let x=!1;function G(c){var p;!x&&!N.value&&!(c.relatedTarget&&((p=b.el)!=null&&p.contains(c.relatedTarget)))&&ne(),x=!1}function j(){x=!0}function ae(c){if(!b.el)return;function p(S){c.preventDefault(),ne(S)}C.value?c.key==="ArrowRight"?p(a.value?"prev":"next"):c.key==="ArrowLeft"&&p(a.value?"next":"prev"):c.key==="ArrowDown"?p("next"):c.key==="ArrowUp"&&p("prev"),c.key==="Home"?p("first"):c.key==="End"&&p("last")}function ne(c){var S,I;if(!b.el)return;let p;if(!c)p=Ge(b.el)[0];else if(c==="next"){if(p=(S=b.el.querySelector(":focus"))==null?void 0:S.nextElementSibling,!p)return ne("first")}else if(c==="prev"){if(p=(I=b.el.querySelector(":focus"))==null?void 0:I.previousElementSibling,!p)return ne("last")}else c==="first"?p=b.el.firstElementChild:c==="last"&&(p=b.el.lastElementChild);p&&p.focus({preventScroll:!0})}function X(c){const p=C.value&&a.value?-1:1,S=(c==="prev"?-p:p)*V.value;let I=r.value+S;if(C.value&&a.value&&g.el){const{scrollWidth:D,offsetWidth:E}=g.el;I+=D-E}re(I)}const pe=A(()=>({next:s.next,prev:s.prev,select:s.select,isSelected:s.isSelected})),me=A(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!u.value;case!0:return o.value||Math.abs(r.value)>0;case"mobile":return u.value||o.value||Math.abs(r.value)>0;default:return!u.value&&(o.value||Math.abs(r.value)>0)}}),y=A(()=>Math.abs(r.value)>1),h=A(()=>{if(!g.value)return!1;const c=ht(C.value,g.el),p=Pa(C.value,g.el);return c-p-Math.abs(r.value)>1});return le(()=>n(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!C.value,"v-slide-group--has-affixes":me.value,"v-slide-group--is-overflowing":o.value},i.value,e.class],style:e.style,tabindex:N.value||s.selected.value.length?-1:0,onFocus:G},{default:()=>{var c,p,S;return[me.value&&n("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!y.value}],onMousedown:j,onClick:()=>y.value&&X("prev")},[((c=l.prev)==null?void 0:c.call(l,pe.value))??n(vt,null,{default:()=>[n(ce,{icon:a.value?e.nextIcon:e.prevIcon},null)]})]),n("div",{key:"container",ref:g,class:"v-slide-group__container",onScroll:P},[n("div",{ref:b,class:"v-slide-group__content",onFocusin:K,onFocusout:Z,onKeydown:ae},[(p=l.default)==null?void 0:p.call(l,pe.value)])]),me.value&&n("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!h.value}],onMousedown:j,onClick:()=>h.value&&X("next")},[((S=l.next)==null?void 0:S.call(l,pe.value))??n(vt,null,{default:()=>[n(ce,{icon:a.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:s.selected,scrollTo:X,scrollOffset:r,focus:ne}}}),jt=Symbol.for("vuetify:v-chip-group"),Aa=H({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:pt},...Ht(),...he(),...Bt({selectedClass:"v-chip--selected"}),...tt(),...Be(),...lt({variant:"tonal"})},"VChipGroup");J()({name:"VChipGroup",props:Aa(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:l}=t;const{themeClasses:a}=et(e),{isSelected:i,select:u,next:s,prev:o,selected:r}=Dt(e,jt);return bt({VChip:{color:W(e,"color"),disabled:W(e,"disabled"),filter:W(e,"filter"),variant:W(e,"variant")}}),le(()=>{const V=gt.filterProps(e);return n(gt,M(V,{class:["v-chip-group",{"v-chip-group--column":e.column},a.value,e.class],style:e.style}),{default:()=>{var _;return[(_=l.default)==null?void 0:_.call(l,{isSelected:i,select:u,next:s,prev:o,selected:r.value})]}})}),{}}});const Oa=H({activeClass:String,appendAvatar:String,appendIcon:se,closable:Boolean,closeIcon:{type:se,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:se,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:ut(),onClickOnce:ut(),...hl(),...he(),...St(),...gl(),...Ul(),..._t(),...pl(),...yl(),...tt({tag:"span"}),...Be(),...lt({variant:"tonal"})},"VChip"),_a=J()({name:"VChip",directives:{Ripple:Pt},props:Oa(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:l,emit:a,slots:i}=t;const{t:u}=kt(),{borderClasses:s}=bl(e),{colorClasses:o,colorStyles:r,variantClasses:V}=It(e),{densityClasses:_}=Tt(e),{elevationClasses:C}=Vl(e),{roundedClasses:g}=xt(e),{sizeClasses:T}=kl(e),{themeClasses:b}=et(e),v=de(e,"modelValue"),d=zl(e,jt,!1),k=wl(e,l),O=A(()=>e.link!==!1&&k.isLink.value),F=A(()=>!e.disabled&&e.link!==!1&&(!!d||e.link||k.isClickable.value)),N=A(()=>({"aria-label":u(e.closeLabel),onClick(P){P.preventDefault(),P.stopPropagation(),v.value=!1,a("click:close",P)}}));function Y(P){var K;a("click",P),F.value&&((K=k.navigate)==null||K.call(k,P),d==null||d.toggle())}function re(P){(P.key==="Enter"||P.key===" ")&&(P.preventDefault(),Y(P))}return()=>{const P=k.isLink.value?"a":e.tag,K=!!(e.appendIcon||e.appendAvatar),Z=!!(K||i.append),x=!!(i.close||e.closable),G=!!(i.filter||e.filter)&&d,j=!!(e.prependIcon||e.prependAvatar),ae=!!(j||i.prepend),ne=!d||d.isSelected.value;return v.value&&Ue(n(P,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":F.value,"v-chip--filter":G,"v-chip--pill":e.pill},b.value,s.value,ne?o.value:void 0,_.value,C.value,g.value,T.value,V.value,d==null?void 0:d.selectedClass.value,e.class],style:[ne?r.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,href:k.href.value,tabindex:F.value?0:void 0,onClick:Y,onKeydown:F.value&&!O.value&&re},{default:()=>{var X;return[Ft(F.value,"v-chip"),G&&n(Hl,{key:"filter"},{default:()=>[Ue(n("div",{class:"v-chip__filter"},[i.filter?n(be,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},i.filter):n(ce,{key:"filter-icon",icon:e.filterIcon},null)]),[[al,d.isSelected.value]])]}),ae&&n("div",{key:"prepend",class:"v-chip__prepend"},[i.prepend?n(be,{key:"prepend-defaults",disabled:!j,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},i.prepend):n(R,null,[e.prependIcon&&n(ce,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&n(je,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),n("div",{class:"v-chip__content","data-no-activator":""},[((X=i.default)==null?void 0:X.call(i,{isSelected:d==null?void 0:d.isSelected.value,selectedClass:d==null?void 0:d.selectedClass.value,select:d==null?void 0:d.select,toggle:d==null?void 0:d.toggle,value:d==null?void 0:d.value.value,disabled:e.disabled}))??e.text]),Z&&n("div",{key:"append",class:"v-chip__append"},[i.append?n(be,{key:"append-defaults",disabled:!K,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},i.append):n(R,null,[e.appendIcon&&n(ce,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&n(je,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),x&&n("button",M({key:"close",class:"v-chip__close",type:"button"},N.value),[i.close?n(be,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},i.close):n(ce,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[Vt("ripple"),F.value&&e.ripple,null]])}}});const Ia=H({id:String,...we(Rt({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:Et}}),["absolute"])},"VMenu"),xa=J()({name:"VMenu",props:Ia(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:l}=t;const a=de(e,"modelValue"),{scopeId:i}=qt(),u=_e(),s=A(()=>e.id||`v-menu-${u}`),o=oe(),r=Je(ft,null),V=q(0);yt(ft,{register(){++V.value},unregister(){--V.value},closeParents(v){setTimeout(()=>{!V.value&&!e.persistent&&(v==null||v&&!nl(v,o.value.contentEl))&&(a.value=!1,r==null||r.closeParents())},40)}});async function _(v){var O,F,N;const d=v.relatedTarget,k=v.target;await Ie(),a.value&&d!==k&&((O=o.value)!=null&&O.contentEl)&&((F=o.value)!=null&&F.globalTop)&&![document,o.value.contentEl].includes(k)&&!o.value.contentEl.contains(k)&&((N=Ge(o.value.contentEl)[0])==null||N.focus())}ue(a,v=>{v?(r==null||r.register(),document.addEventListener("focusin",_,{once:!0})):(r==null||r.unregister(),document.removeEventListener("focusin",_))});function C(v){r==null||r.closeParents(v)}function g(v){var d,k,O;if(!e.disabled)if(v.key==="Tab"||v.key==="Enter"&&!e.closeOnContentClick){if(v.key==="Enter"&&v.target instanceof HTMLTextAreaElement)return;v.key==="Enter"&&v.preventDefault(),il(Ge((d=o.value)==null?void 0:d.contentEl,!1),v.shiftKey?"prev":"next",N=>N.tabIndex>=0)||(a.value=!1,(O=(k=o.value)==null?void 0:k.activatorEl)==null||O.focus())}else["Enter"," "].includes(v.key)&&e.closeOnContentClick&&(a.value=!1,r==null||r.closeParents())}function T(v){var k;if(e.disabled)return;const d=(k=o.value)==null?void 0:k.contentEl;d&&a.value?v.key==="ArrowDown"?(v.preventDefault(),dt(d,"next")):v.key==="ArrowUp"&&(v.preventDefault(),dt(d,"prev")):["ArrowDown","ArrowUp"].includes(v.key)&&(a.value=!0,v.preventDefault(),setTimeout(()=>setTimeout(()=>T(v))))}const b=A(()=>M({"aria-haspopup":"menu","aria-expanded":String(a.value),"aria-owns":s.value,onKeydown:T},e.activatorProps));return le(()=>{const v=Ae.filterProps(e);return n(Ae,M({ref:o,id:s.value,class:["v-menu",e.class],style:e.style},v,{modelValue:a.value,"onUpdate:modelValue":d=>a.value=d,absolute:!0,activatorProps:b.value,"onClick:outside":C,onKeydown:g},i),{activator:l.activator,default:function(){for(var d=arguments.length,k=new Array(d),O=0;O<d;O++)k[O]=arguments[O];return n(be,{root:"VMenu"},{default:()=>{var F;return[(F=l.default)==null?void 0:F.call(l,...k)]}})}})}),at({id:s,ΨopenChildren:V},o)}});const Fa=H({renderless:Boolean,...he()},"VVirtualScrollItem"),Na=J()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Fa(),emits:{"update:height":e=>!0},setup(e,t){let{attrs:l,emit:a,slots:i}=t;const{resizeRef:u,contentRect:s}=Ee(void 0,"border");ue(()=>{var o;return(o=s.value)==null?void 0:o.height},o=>{o!=null&&a("update:height",o)}),le(()=>{var o,r;return e.renderless?n(R,null,[(o=i.default)==null?void 0:o.call(i,{itemRef:u})]):n("div",M({ref:u,class:["v-virtual-scroll__item",e.class],style:e.style},l),[(r=i.default)==null?void 0:r.call(i)])})}}),$a=-1,Ra=1,Me=100,Ea=H({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function qa(e,t){const l=Ze(),a=q(0);He(()=>{a.value=parseFloat(e.itemHeight||0)});const i=q(0),u=q(Math.ceil((parseInt(e.height)||l.height.value)/(a.value||16))||1),s=q(0),o=q(0),r=oe(),V=oe();let _=0;const{resizeRef:C,contentRect:g}=Ee();He(()=>{C.value=r.value});const T=A(()=>{var h;return r.value===document.documentElement?l.height.value:((h=g.value)==null?void 0:h.height)||parseInt(e.height)||0}),b=A(()=>!!(r.value&&V.value&&T.value&&a.value));let v=Array.from({length:t.value.length}),d=Array.from({length:t.value.length});const k=q(0);let O=-1;function F(h){return v[h]||a.value}const N=rl(()=>{const h=performance.now();d[0]=0;const c=t.value.length;for(let p=1;p<=c-1;p++)d[p]=(d[p-1]||0)+F(p-1);k.value=Math.max(k.value,performance.now()-h)},k),Y=ue(b,h=>{h&&(Y(),_=V.value.offsetTop,N.immediate(),X(),~O&&Ie(()=>{Te&&window.requestAnimationFrame(()=>{me(O),O=-1})}))});De(()=>{N.clear()});function re(h,c){const p=v[h],S=a.value;a.value=S?Math.min(a.value,c):c,(p!==c||S!==a.value)&&(v[h]=c,N())}function P(h){return h=Le(h,0,t.value.length-1),d[h]||0}function K(h){return Ba(d,h)}let Z=0,x=0,G=0;ue(T,(h,c)=>{c&&(X(),h<c&&requestAnimationFrame(()=>{x=0,X()}))});function j(){if(!r.value||!V.value)return;const h=r.value.scrollTop,c=performance.now();c-G>500?(x=Math.sign(h-Z),_=V.value.offsetTop):x=h-Z,Z=h,G=c,X()}function ae(){!r.value||!V.value||(x=0,G=0,X())}let ne=-1;function X(){cancelAnimationFrame(ne),ne=requestAnimationFrame(pe)}function pe(){if(!r.value||!T.value)return;const h=Z-_,c=Math.sign(x),p=Math.max(0,h-Me),S=Le(K(p),0,t.value.length),I=h+T.value+Me,D=Le(K(I)+1,S+1,t.value.length);if((c!==$a||S<i.value)&&(c!==Ra||D>u.value)){const E=P(i.value)-P(S),ee=P(D)-P(u.value);Math.max(E,ee)>Me?(i.value=S,u.value=D):(S<=0&&(i.value=S),D>=t.value.length&&(u.value=D))}s.value=P(i.value),o.value=P(t.value.length)-P(u.value)}function me(h){const c=P(h);!r.value||h&&!c?O=h:r.value.scrollTop=c}const y=A(()=>t.value.slice(i.value,u.value).map((h,c)=>({raw:h,index:c+i.value})));return ue(t,()=>{v=Array.from({length:t.value.length}),d=Array.from({length:t.value.length}),N.immediate(),X()},{deep:!0}),{containerRef:r,markerRef:V,computedItems:y,paddingTop:s,paddingBottom:o,scrollToIndex:me,handleScroll:j,handleScrollend:ae,handleItemResize:re}}function Ba(e,t){let l=e.length-1,a=0,i=0,u=null,s=-1;if(e[l]<t)return l;for(;a<=l;)if(i=a+l>>1,u=e[i],u>t)l=i-1;else if(u<t)s=i,a=i+1;else return u===t?i:a;return s}const Da=H({items:{type:Array,default:()=>[]},renderless:Boolean,...Ea(),...he(),...At()},"VVirtualScroll"),La=J()({name:"VVirtualScroll",props:Da(),setup(e,t){let{slots:l}=t;const a=ol("VVirtualScroll"),{dimensionStyles:i}=Ot(e),{containerRef:u,markerRef:s,handleScroll:o,handleScrollend:r,handleItemResize:V,scrollToIndex:_,paddingTop:C,paddingBottom:g,computedItems:T}=qa(e,W(e,"items"));return wt(()=>e.renderless,()=>{function b(){var k,O;const d=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";u.value===document.documentElement?(document[d]("scroll",o,{passive:!0}),document[d]("scrollend",r)):((k=u.value)==null||k[d]("scroll",o,{passive:!0}),(O=u.value)==null||O[d]("scrollend",r))}Ct(()=>{u.value=Bl(a.vnode.el,!0),b(!0)}),De(b)}),le(()=>{const b=T.value.map(v=>n(Na,{key:v.index,renderless:e.renderless,"onUpdate:height":d=>V(v.index,d)},{default:d=>{var k;return(k=l.default)==null?void 0:k.call(l,{item:v.raw,index:v.index,...d})}}));return e.renderless?n(R,null,[n("div",{ref:s,class:"v-virtual-scroll__spacer",style:{paddingTop:xe(C.value)}},null),b,n("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:xe(g.value)}},null)]):n("div",{ref:u,class:["v-virtual-scroll",e.class],onScrollPassive:o,onScrollend:r,style:[i.value,e.style]},[n("div",{ref:s,class:"v-virtual-scroll__container",style:{paddingTop:xe(C.value),paddingBottom:xe(g.value)}},[b])])}),{scrollToIndex:_}}});function Ma(e,t){const l=q(!1);let a;function i(o){cancelAnimationFrame(a),l.value=!0,a=requestAnimationFrame(()=>{a=requestAnimationFrame(()=>{l.value=!1})})}async function u(){await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>{if(l.value){const r=ue(l,()=>{r(),o()})}else o()})}async function s(o){var _,C;if(o.key==="Tab"&&((_=t.value)==null||_.focus()),!["PageDown","PageUp","Home","End"].includes(o.key))return;const r=(C=e.value)==null?void 0:C.$el;if(!r)return;(o.key==="Home"||o.key==="End")&&r.scrollTo({top:o.key==="Home"?0:r.scrollHeight,behavior:"smooth"}),await u();const V=r.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(o.key==="PageDown"||o.key==="Home"){const g=r.getBoundingClientRect().top;for(const T of V)if(T.getBoundingClientRect().top>=g){T.focus();break}}else{const g=r.getBoundingClientRect().bottom;for(const T of[...V].reverse())if(T.getBoundingClientRect().bottom<=g){T.focus();break}}}return{onListScroll:i,onListKeydown:s}}const Ua=H({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:se,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...Dl({itemChildren:!1})},"Select"),za=H({...Ua(),...we(Il({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Cl({transition:{component:Et}})},"VSelect"),Ga=J()({name:"VSelect",props:za(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:l}=t;const{t:a}=kt(),i=oe(),u=oe(),s=oe(),o=de(e,"menu"),r=A({get:()=>o.value,set:y=>{var h;o.value&&!y&&((h=u.value)!=null&&h.ΨopenChildren)||(o.value=y)}}),{items:V,transformIn:_,transformOut:C}=Ll(e),g=de(e,"modelValue",[],y=>_(y===null?[null]:Fe(y)),y=>{const h=C(y);return e.multiple?h:h[0]??null}),T=A(()=>typeof e.counterValue=="function"?e.counterValue(g.value):typeof e.counterValue=="number"?e.counterValue:g.value.length),b=xl(),v=A(()=>g.value.map(y=>y.value)),d=q(!1),k=A(()=>r.value?e.closeText:e.openText);let O="",F;const N=A(()=>e.hideSelected?V.value.filter(y=>!g.value.some(h=>e.valueComparator(h,y))):V.value),Y=A(()=>e.hideNoData&&!N.value.length||e.readonly||(b==null?void 0:b.isReadonly.value)),re=A(()=>{var y;return{...e.menuProps,activatorProps:{...((y=e.menuProps)==null?void 0:y.activatorProps)||{},"aria-haspopup":"listbox"}}}),P=oe(),{onListScroll:K,onListKeydown:Z}=Ma(P,i);function x(y){e.openOnClear&&(r.value=!0)}function G(){Y.value||(r.value=!r.value)}function j(y){var I,D;if(!y.key||e.readonly||b!=null&&b.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(y.key)&&y.preventDefault(),["Enter","ArrowDown"," "].includes(y.key)&&(r.value=!0),["Escape","Tab"].includes(y.key)&&(r.value=!1),y.key==="Home"?(I=P.value)==null||I.focus("first"):y.key==="End"&&((D=P.value)==null||D.focus("last"));const h=1e3;function c(E){const ee=E.key.length===1,te=!E.ctrlKey&&!E.metaKey&&!E.altKey;return ee&&te}if(e.multiple||!c(y))return;const p=performance.now();p-F>h&&(O=""),O+=y.key.toLowerCase(),F=p;const S=V.value.find(E=>E.title.toLowerCase().startsWith(O));if(S!==void 0){g.value=[S];const E=N.value.indexOf(S);Te&&window.requestAnimationFrame(()=>{var ee;E>=0&&((ee=s.value)==null||ee.scrollToIndex(E))})}}function ae(y){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!y.props.disabled)if(e.multiple){const c=g.value.findIndex(S=>e.valueComparator(S.value,y.value)),p=h??!~c;if(~c){const S=p?[...g.value,y]:[...g.value];S.splice(c,1),g.value=S}else p&&(g.value=[...g.value,y])}else{const c=h!==!1;g.value=c?[y]:[],Ie(()=>{r.value=!1})}}function ne(y){var h;(h=P.value)!=null&&h.$el.contains(y.relatedTarget)||(r.value=!1)}function X(){var y;d.value&&((y=i.value)==null||y.focus())}function pe(y){d.value=!0}function me(y){if(y==null)g.value=[];else if(ze(i.value,":autofill")||ze(i.value,":-webkit-autofill")){const h=V.value.find(c=>c.title===y);h&&ae(h)}else i.value&&(i.value.value="")}return ue(r,()=>{if(!e.hideSelected&&r.value&&g.value.length){const y=N.value.findIndex(h=>g.value.some(c=>e.valueComparator(c.value,h.value)));Te&&window.requestAnimationFrame(()=>{var h;y>=0&&((h=s.value)==null||h.scrollToIndex(y))})}}),ue(()=>e.items,(y,h)=>{r.value||d.value&&!h.length&&y.length&&(r.value=!0)}),le(()=>{const y=!!(e.chips||l.chip),h=!!(!e.hideNoData||N.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),c=g.value.length>0,p=Ke.filterProps(e),S=c||!d.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return n(Ke,M({ref:i},p,{modelValue:g.value.map(I=>I.props.value).join(", "),"onUpdate:modelValue":me,focused:d.value,"onUpdate:focused":I=>d.value=I,validationValue:g.externalValue,counterValue:T.value,dirty:c,class:["v-select",{"v-select--active-menu":r.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":g.value.length,"v-select--selection-slot":!!l.selection},e.class],style:e.style,inputmode:"none",placeholder:S,"onClick:clear":x,"onMousedown:control":G,onBlur:ne,onKeydown:j,"aria-label":a(k.value),title:a(k.value)}),{...l,default:()=>n(R,null,[n(xa,M({ref:u,modelValue:r.value,"onUpdate:modelValue":I=>r.value=I,activator:"parent",contentClass:"v-select__content",disabled:Y.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:X},re.value),{default:()=>[h&&n(Ml,M({ref:P,selected:v.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:I=>I.preventDefault(),onKeydown:Z,onFocusin:pe,onScrollPassive:K,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>{var I,D,E;return[(I=l["prepend-item"])==null?void 0:I.call(l),!N.value.length&&!e.hideNoData&&(((D=l["no-data"])==null?void 0:D.call(l))??n(mt,{title:a(e.noDataText)},null)),n(La,{ref:s,renderless:!0,items:N.value},{default:ee=>{var ot;let{item:te,index:ke,itemRef:ie}=ee;const rt=M(te.props,{ref:ie,key:ke,onClick:()=>ae(te,null)});return((ot=l.item)==null?void 0:ot.call(l,{item:te,index:ke,props:rt}))??n(mt,M(rt,{role:"option"}),{prepend:Kt=>{let{isSelected:Wt}=Kt;return n(R,null,[e.multiple&&!e.hideSelected?n(We,{key:te.value,modelValue:Wt,ripple:!1,tabindex:"-1"},null):void 0,te.props.prependAvatar&&n(je,{image:te.props.prependAvatar},null),te.props.prependIcon&&n(ce,{icon:te.props.prependIcon},null)])}})}}),(E=l["append-item"])==null?void 0:E.call(l)]}})]}),g.value.map((I,D)=>{function E(ie){ie.stopPropagation(),ie.preventDefault(),ae(I,!1)}const ee={"onClick:close":E,onKeydown(ie){ie.key!=="Enter"&&ie.key!==" "||(ie.preventDefault(),ie.stopPropagation(),E(ie))},onMousedown(ie){ie.preventDefault(),ie.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},te=y?!!l.chip:!!l.selection,ke=te?sl(y?l.chip({item:I,index:D,props:ee}):l.selection({item:I,index:D})):void 0;if(!(te&&!ke))return n("div",{key:I.value,class:"v-select__selection"},[y?l.chip?n(be,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:I.title}}},{default:()=>[ke]}):n(_a,M({key:"chip",closable:e.closableChips,size:"small",text:I.title,disabled:I.props.disabled},ee),null):ke??n("span",{class:"v-select__selection-text"},[I.title,e.multiple&&D<g.value.length-1&&n("span",{class:"v-select__selection-comma"},[L(",")])])])})]),"append-inner":function(){var ee;for(var I=arguments.length,D=new Array(I),E=0;E<I;E++)D[E]=arguments[E];return n(R,null,[(ee=l["append-inner"])==null?void 0:ee.call(l,...D),e.menuIcon?n(ce,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),at({isFocused:d,menu:r,select:ae},i)}}),Ha={props:{validateFormTimes:{type:Number,required:!0},prependOrderNumber:{type:[String,Number],required:!1,default:null},node:{type:Object,required:!0,default:()=>({configs:{},rules:{},options:[]})}},data(){return{valid:!1,selected:null,rules:[]}},computed:{newPrependOrderNumber(){return this.prependOrderNumber&&this.prependOrderNumber!==0?`${this.prependOrderNumber}-${this.node.order_number}`:this.node.order_number}},methods:{checkAnswer(){this.$refs.form.validate(),this.$refs.form.isValid&&(this.answerChanged(),this.anserValidated())},answerChanged(e){e&&e.node.id!==this.node.id?this.$emit("answerChanged",e):this.$emit("answerChanged",{node:this.node,answer:this.selected})},anserValidated(e){e&&e.node.id!==this.node.id?this.$emit("anserValidated",e):this.$emit("anserValidated",{node:this.node,validateFormTimes:this.validateFormTimes})},is_required(e){return e.length!==0||"請選擇一個選項"}},watch:{validateFormTimes(){this.checkAnswer()}},mounted(){let e=this.node.rules;for(let t in e)t&&t!=="mutually_exclusive"&&this.rules.push(this.$options.methods[t])}},ja=Object.assign(Ha,{__name:"Select",setup(e){return(t,l)=>(m(),w(fe,{hover:"",variant:"text",class:"cursor-default"},{default:f(()=>[n(ve,{class:"text-wrap"},{default:f(()=>[L($(t.newPrependOrderNumber)+". "+$(e.node.title),1)]),_:1}),n(Ve,null,{default:f(()=>[e.node.image?(m(),w(Ce,{key:0,"max-height":"500",src:e.node.image,class:"ma-5"},null,8,["src"])):B("",!0),e.node.description?(m(),w(z,{key:1,fluid:""},{default:f(()=>[L($(e.node.description),1)]),_:1})):B("",!0),n(Se,{ref:"form",modelValue:t.valid,"onUpdate:modelValue":l[1]||(l[1]=a=>t.valid=a)},{default:f(()=>[n(Ga,{modelValue:t.selected,"onUpdate:modelValue":l[0]||(l[0]=a=>t.selected=a),items:e.node.options,variant:"solo",label:"請選擇",required:e.node.configs.required,"return-object":"",class:"mt-5",clearable:""},null,8,["modelValue","items","required"])]),_:1},8,["modelValue"])]),_:1}),e.node.nodes?(m(),w(z,{key:0,fluid:""},{default:f(()=>[(m(!0),U(R,null,Q(e.node.nodes,a=>(m(),w(ge,{key:a.id,onAnswerChanged:t.answerChanged,onAnserValidated:t.anserValidated,validateFormTimes:e.validateFormTimes,settings:t.settings,prependOrderNumber:t.newPrependOrderNumber,node:a},null,8,["onAnswerChanged","onAnserValidated","validateFormTimes","settings","prependOrderNumber","node"]))),128))]),_:1})):B("",!0)]),_:1}))}}),Ka={props:{validateFormTimes:{type:Number,required:!0},prependOrderNumber:{type:[String,Number],required:!1,default:null},node:{type:Object,required:!0,default:()=>({configs:{},rules:{},options:[]})}},data(){return{valid:!1,answer:null,rules:[]}},computed:{newPrependOrderNumber(){return this.prependOrderNumber&&this.prependOrderNumber!==0?`${this.prependOrderNumber}-${this.node.order_number}`:this.node.order_number}},methods:{checkAnswer(){this.$refs.form.validate(),this.$refs.form.isValid&&(this.answerChanged(),this.anserValidated())},answerChanged(e){e&&e.node.id!==this.node.id?this.$emit("answerChanged",e):this.$emit("answerChanged",{node:this.node,answer:this.selected})},anserValidated(e){e&&e.node.id!==this.node.id?this.$emit("anserValidated",e):this.$emit("anserValidated",{node:this.node,validateFormTimes:this.validateFormTimes})},is_required(e){return e.length!==0||"請選擇一個選項"}},watch:{validateFormTimes(){this.checkAnswer()}},mounted(){let e=this.node.rules;for(let t in e)t&&t!=="mutually_exclusive"&&this.rules.push(this.$options.methods[t])}},Wa=Object.assign(Ka,{__name:"ShortAnswer",setup(e){return(t,l)=>(m(),w(fe,{hover:"",variant:"text",class:"cursor-default"},{default:f(()=>[n(ve,{class:"text-wrap"},{default:f(()=>[L($(t.newPrependOrderNumber)+". "+$(e.node.title),1)]),_:1}),n(Ve,null,{default:f(()=>[e.node.image?(m(),w(Ce,{key:0,"max-height":"500",src:e.node.image,class:"ma-5"},null,8,["src"])):B("",!0),e.node.description?(m(),w(z,{key:1,fluid:""},{default:f(()=>[L($(e.node.description),1)]),_:1})):B("",!0),n(Se,{ref:"form",modelValue:t.valid,"onUpdate:modelValue":l[1]||(l[1]=a=>t.valid=a)},{default:f(()=>[n(Ke,{modelValue:t.answer,"onUpdate:modelValue":l[0]||(l[0]=a=>t.answer=a),label:"請輸入……",variant:"solo"},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1}),e.node.nodes?(m(),w(z,{key:0,fluid:""},{default:f(()=>[(m(!0),U(R,null,Q(e.node.nodes,a=>(m(),w(ge,{key:a.id,onAnswerChanged:t.answerChanged,onAnserValidated:t.anserValidated,validateFormTimes:e.validateFormTimes,settings:t.settings,prependOrderNumber:t.newPrependOrderNumber,node:a},null,8,["onAnswerChanged","onAnserValidated","validateFormTimes","settings","prependOrderNumber","node"]))),128))]),_:1})):B("",!0)]),_:1}))}}),Ya={props:{validateFormTimes:{type:Number,required:!0},prependOrderNumber:{type:[String,Number],required:!1,default:null},node:{type:Object,required:!0,default:()=>({configs:{},options:[]})}},data(){return{components:[{id:1,component:q(ua)},{id:2,component:q(ma)},{id:3,component:q(ha)},{id:4,component:q(pa)},{id:5,component:q(ja)},{id:6,component:q(Wa)},{id:7,component:q(wa)}]}}};function Xa(e,t,l,a,i,u){return m(),w(ul(i.components[l.node.type_id-1].component),{node:l.node,prependOrderNumber:l.prependOrderNumber,validateFormTimes:l.validateFormTimes},null,8,["node","prependOrderNumber","validateFormTimes"])}const ge=Xe(Ya,[["render",Xa]]);function Qa(e){const t=q(e);let l=-1;function a(){clearInterval(l)}function i(){a(),Ie(()=>t.value=e)}function u(s){const o=s?getComputedStyle(s):{transitionDuration:.2},r=parseFloat(o.transitionDuration)*1e3||200;if(a(),t.value<=0)return;const V=performance.now();l=window.setInterval(()=>{const _=performance.now()-V+r;t.value=Math.max(e-_,0),t.value<=0&&a()},r)}return De(a),{clear:a,time:t,start:u,reset:i}}const Ja=H({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...Sl({location:"bottom"}),...Pl(),..._t(),...lt(),...Be(),...we(Rt({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),Za=J()({name:"VSnackbar",props:Ja(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:l}=t;const a=de(e,"modelValue"),{positionClasses:i}=Tl(e),{scopeId:u}=qt(),{themeClasses:s}=et(e),{colorClasses:o,colorStyles:r,variantClasses:V}=It(e),{roundedClasses:_}=xt(e),C=Qa(Number(e.timeout)),g=oe(),T=oe(),b=q(!1),v=q(0),d=oe(),k=Je($l,void 0);wt(()=>!!k,()=>{const x=Rl();He(()=>{d.value=x.mainStyles.value})}),ue(a,F),ue(()=>e.timeout,F),Ct(()=>{a.value&&F()});let O=-1;function F(){C.reset(),window.clearTimeout(O);const x=Number(e.timeout);if(!a.value||x===-1)return;const G=dl(T.value);C.start(G),O=window.setTimeout(()=>{a.value=!1},x)}function N(){C.reset(),window.clearTimeout(O)}function Y(){b.value=!0,N()}function re(){b.value=!1,F()}function P(x){v.value=x.touches[0].clientY}function K(x){Math.abs(v.value-x.changedTouches[0].clientY)>50&&(a.value=!1)}const Z=A(()=>e.location.split(" ").reduce((x,G)=>(x[`v-snackbar--${G}`]=!0,x),{}));return le(()=>{const x=Ae.filterProps(e),G=!!(l.default||l.text||e.text);return n(Ae,M({ref:g,class:["v-snackbar",{"v-snackbar--active":a.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},Z.value,i.value,e.class],style:[d.value,e.style]},x,{modelValue:a.value,"onUpdate:modelValue":j=>a.value=j,contentProps:M({class:["v-snackbar__wrapper",s.value,o.value,_.value,V.value],style:[r.value],onPointerenter:Y,onPointerleave:re},x.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:P,onTouchend:K},u),{default:()=>{var j,ae;return[Ft(!1,"v-snackbar"),e.timer&&!b.value&&n("div",{key:"timer",class:"v-snackbar__timer"},[n(Al,{ref:T,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":C.time.value},null)]),G&&n("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((j=l.text)==null?void 0:j.call(l))??e.text,(ae=l.default)==null?void 0:ae.call(l)]),l.actions&&n(be,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[n("div",{class:"v-snackbar__actions"},[l.actions({isActive:a})])]})]},activator:l.activator})}),at({},g)}}),en={components:{Node:ge,LoadingNode:ta},data(){return{snackbar:{text:"",show:!1},loading:!0,validateFormTimes:0,correctAnswerInCurrentPage:[[]],answersInCurrentPage:[[]],page:1,form:null}},computed:{},methods:{},created(){},async mounted(){this.form=Wl.form,await new Promise(e=>setTimeout(e,1e3)),this.loading=!1}};function tn(e,t,l,a,i,u){const s=ct("LoadingNode"),o=ct("Node");return m(),U(R,null,[n(Ae,{modelValue:i.loading,"onUpdate:modelValue":t[0]||(t[0]=r=>i.loading=r),class:"d-flex justify-center align-center loading-overlay",style:{"background-color":"#1d2630"}},{default:f(()=>[n(s)]),_:1},8,["modelValue"]),i.form?(m(),w(fe,{key:0},{default:f(()=>[i.page==1?(m(),U(R,{key:0},[n(ve,{fluid:"",class:"text-wrap pb-0 text-h4"},{default:f(()=>[L($(i.form.title),1)]),_:1}),n(Ve,{fluid:""},{default:f(()=>[L($(i.form.description),1)]),_:1})],64)):B("",!0),n(z,{fluid:"",class:"pt-0",id:"listWithHandle"},{default:f(()=>[(m(!0),U(R,null,Q(i.form.nodes,r=>(m(),w(o,{class:"my-5",key:r.id,prependOrderNumber:r.prependOrderNumber,validateFormTimes:i.validateFormTimes,node:r},null,8,["prependOrderNumber","validateFormTimes","node"]))),128))]),_:1}),n(fl,null,{default:f(()=>[n(z,{fluid:"",class:"d-flex justify-end"})]),_:1})]),_:1})):(m(),w(fe,{key:1,rounded:"xl",variant:"tonal"},{default:f(()=>[n(ve,{class:"text-center text-h1 text-red"},{default:f(()=>[L("查無此問卷!")]),_:1})]),_:1})),n(Za,{modelValue:i.snackbar.show,"onUpdate:modelValue":t[2]||(t[2]=r=>i.snackbar.show=r),timer:"orange","multi-line":""},{actions:f(()=>[n(Gl,{color:"red",variant:"text",onClick:t[1]||(t[1]=r=>i.snackbar=!1)},{default:f(()=>[L(" Close ")]),_:1})]),default:f(()=>[L($(i.snackbar.text)+" ",1)]),_:1},8,["modelValue"])],64)}const hn=Xe(en,[["render",tn]]);export{hn as default};
