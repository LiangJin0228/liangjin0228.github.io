import{u as oe}from"./VBtn-170e1722.js";import{p as U,$ as V,d as u,n as ae,f as w,al as K,e as L,ad as Z,M as O,W as q,V as ne,s as D,am as se,an as ue,E as le,ao as ie,v as re,ap as ce}from"./index-1d2db783.js";const R=Symbol.for("vuetify:layout"),F=Symbol.for("vuetify:layout-item"),N=1e3,me=U({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),pe=U({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function ge(){const t=V(R);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{layoutIsReady:O(),getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function he(t){const a=V(R);if(!a)throw new Error("[Vuetify] Could not find injected layout");const i=t.id??`layout-item-${ne()}`,c=Z("useLayoutItem");q(F,{id:i});const n=D(!1);se(()=>n.value=!0),ue(()=>n.value=!1);const v=O(),{layoutItemStyles:l,layoutItemScrimStyles:y}=a.register(c,{...t,active:u(()=>n.value?!1:t.active.value),id:i});return le(()=>a.unregister(i)),{layoutItemStyles:l,layoutRect:a.layoutRect,layoutItemScrimStyles:y,layoutIsReady:v}}const ve=(t,a,i,c)=>{let n={top:0,left:0,right:0,bottom:0};const v=[{id:"",layer:{...n}}];for(const l of t){const y=a.get(l),p=i.get(l),$=c.get(l);if(!y||!p||!$)continue;const g={...n,[y.value]:parseInt(n[y.value],10)+($.value?parseInt(p.value,10):0)};v.push({id:l,layer:g}),n=g}return v};function Ie(t){const a=V(R,null),i=u(()=>a?a.rootZIndex.value-100:N),c=ae([]),n=w(new Map),v=w(new Map),l=w(new Map),y=w(new Map),p=w(new Map),{resizeRef:$,contentRect:g}=oe(),h=K(()=>{const o=[...new Set([...l.values()].map(e=>e.value))].sort((e,f)=>e-f),r=[];for(const e of o){const f=c.value.filter(s=>{var m;return((m=l.get(s))==null?void 0:m.value)===e});r.push(...f)}return ve(r,n,v,y)}),A=u(()=>!Array.from(p.values()).some(o=>o.value)),I=u(()=>h.value[h.value.length-1].layer),W=u(()=>({"--v-layout-left":L(I.value.left),"--v-layout-right":L(I.value.right),"--v-layout-top":L(I.value.top),"--v-layout-bottom":L(I.value.bottom),...A.value?void 0:{transition:"none"}})),x=K(()=>h.value.slice(1).map((o,r)=>{let{id:e}=o;const{layer:f}=h.value[r],s=v.get(e),m=n.get(e);return{id:e,...f,size:Number(s.value),position:m.value}})),T=o=>x.value.find(r=>r.id===o),z=Z("createLayout"),H=O();q(R,{register:(o,r)=>{let{id:e,order:f,position:s,layoutSize:m,elementSize:S,active:P,disableTransitions:j,absolute:_}=r;l.set(e,f),n.set(e,s),v.set(e,m),y.set(e,P),j&&p.set(e,j);const k=ie(F,z==null?void 0:z.vnode).indexOf(o);k>-1?c.value.splice(k,0,e):c.value.push(e);const B=u(()=>x.value.findIndex(b=>b.id===e)),C=u(()=>i.value+h.value.length*2-B.value*2),G=u(()=>{const b=s.value==="left"||s.value==="right",E=s.value==="right",Q=s.value==="bottom",M=S.value??m.value,ee=M===0?"%":"px",te={[s.value]:0,zIndex:C.value,transform:`translate${b?"X":"Y"}(${(P.value?0:-(M===0?100:M))*(E||Q?-1:1)}${ee})`,position:_.value||i.value!==N?"absolute":"fixed",...A.value?void 0:{transition:"none"}};if(B.value<0)throw new Error(`Layout item "${e}" is missing`);const d=x.value[B.value];if(!d)throw new Error(`[Vuetify] Could not find layout item "${e}"`);return{...te,height:b?`calc(100% - ${d.top}px - ${d.bottom}px)`:S.value?`${S.value}px`:void 0,left:E?void 0:`${d.left}px`,right:E?`${d.right}px`:void 0,top:s.value!=="bottom"?`${d.top}px`:void 0,bottom:s.value!=="top"?`${d.bottom}px`:void 0,width:b?S.value?`${S.value}px`:void 0:`calc(100% - ${d.left}px - ${d.right}px)`}}),J=u(()=>({zIndex:C.value-1}));return{layoutItemStyles:G,layoutItemScrimStyles:J,zIndex:C}},unregister:o=>{l.delete(o),n.delete(o),v.delete(o),y.delete(o),p.delete(o),c.value=c.value.filter(r=>r!==o)},mainRect:I,mainStyles:W,getLayoutItem:T,items:x,layoutRect:g,rootZIndex:i,layoutIsReady:H});const X=u(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),Y=u(()=>({zIndex:a?i.value:void 0,position:a?"relative":void 0,overflow:a?"hidden":void 0}));return{layoutClasses:X,layoutStyles:Y,getLayoutItem:T,items:x,layoutRect:g,layoutIsReady:H,layoutRef:$}}function xe(){const t=D(!1);return re(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:u(()=>t.value?void 0:{transition:"none !important"}),isBooted:ce(t)}}export{R as V,me as a,xe as b,Ie as c,ge as d,pe as m,he as u};
